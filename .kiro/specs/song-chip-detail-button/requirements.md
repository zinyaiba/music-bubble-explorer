# Requirements Document

## Introduction

シャボン玉タップ時に表示されるDetailModalにおいて、関連情報として表示される楽曲チップに、楽曲詳細画面（SongDetailView）へ直接遷移できるボタンを追加する機能。タグや人物のシャボン玉をタップした際に表示される楽曲リストの各チップに、視覚的に明確な遷移ボタンを配置することで、ユーザーが楽曲の詳細情報にアクセスしやすくする。

## Glossary

- **DetailModal**: シャボン玉をタップした際に表示される全画面モーダル。選択したシャボン玉の関連情報を表示する
- **楽曲チップ**: DetailModal内で表示される楽曲情報を含むUI要素。タップ可能なリストアイテム
- **SongDetailView**: 楽曲の詳細情報を表示する全画面ビュー
- **遷移ボタン**: 楽曲チップの右端に配置される、楽曲詳細画面への遷移を明示的にトリガーするボタン要素

## Requirements

### Requirement 1

**User Story:** ユーザーとして、タグや人物の関連楽曲リストから特定の楽曲の詳細情報に素早くアクセスしたい。そうすることで、興味のある楽曲についてより深く知ることができる。

#### Acceptance Criteria

1. WHEN DetailModalがタグまたは人物タイプのシャボン玉の関連情報を表示する THEN DetailModalは各楽曲チップの右端に楽曲詳細画面への遷移ボタンを表示する
2. WHEN ユーザーが楽曲チップの遷移ボタンをタップする THEN DetailModalは該当楽曲のSongDetailViewを表示する
3. WHEN 遷移ボタンが表示される THEN 遷移ボタンは視覚的に識別可能なアイコンまたはシンボルを含む

### Requirement 2

**User Story:** ユーザーとして、楽曲チップのタップと詳細遷移ボタンのタップを区別したい。そうすることで、意図した操作を正確に実行できる。

#### Acceptance Criteria

1. WHEN ユーザーが楽曲チップの遷移ボタン以外の領域をタップする THEN DetailModalは既存の動作（楽曲シャボン玉への遷移）を維持する
2. WHEN ユーザーが遷移ボタンをタップする THEN DetailModalは遷移ボタンのタップイベントのみを処理し、チップ全体のタップイベントは発火しない
3. WHEN 遷移ボタンがタップされる THEN 遷移ボタンはタップフィードバック（視覚的な反応）を提供する

### Requirement 3

**User Story:** ユーザーとして、キーボードやスクリーンリーダーを使用しても遷移ボタンを操作したい。そうすることで、アクセシビリティが確保される。

#### Acceptance Criteria

1. WHEN 遷移ボタンがフォーカスを受ける THEN 遷移ボタンは視覚的なフォーカスインジケーターを表示する
2. WHEN ユーザーがフォーカス中の遷移ボタンでEnterキーまたはSpaceキーを押す THEN DetailModalは該当楽曲のSongDetailViewを表示する
3. WHEN スクリーンリーダーが遷移ボタンを読み上げる THEN 遷移ボタンは「楽曲詳細を表示」という意味のアクセシブルラベルを提供する

### Requirement 4

**User Story:** ユーザーとして、モバイルデバイスでも遷移ボタンを快適に操作したい。そうすることで、どのデバイスでも同じ体験が得られる。

#### Acceptance Criteria

1. WHEN DetailModalがモバイルデバイスで表示される THEN 遷移ボタンは最小44x44ピクセルのタップ領域を確保する
2. WHEN 楽曲チップが狭い画面幅で表示される THEN 遷移ボタンは楽曲名を圧迫せず適切なサイズを維持する
