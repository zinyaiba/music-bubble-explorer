# 実装計画

- [x] 1. タグ制限緩和実装





  - 1楽曲に登録できるタグ数を10個から100個に拡張
  - タグ数カウンター表示機能を追加
  - 制限超過時のエラー表示を実装
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [x] 1.1 TagRegistrationServiceの拡張


  - maxTagsPerSongを100に変更
  - タグ制限バリデーション機能を強化
  - 制限超過時のエラーハンドリングを実装
  - _要件: 1.1, 1.4_

- [x] 1.2 TagSelectionViewコンポーネントの改善


  - リアルタイムタグ数カウンター表示を実装
  - 100個対応のスクロール可能なタグリストを実装
  - 制限超過時のエラー表示を追加
  - _要件: 1.2, 1.3, 1.4_

- [ ]* 1.3 タグ制限拡張のテスト実装
  - 100個タグ登録のテスト
  - 制限超過時のエラーハンドリングテスト
  - _要件: 1.1, 1.4, 1.5_

- [x] 2. メニュー表示順序最適化





  - ナビゲーションメニューの順序を使用頻度順に変更
  - タグ登録→タグ一覧→楽曲編集→楽曲登録の順序で配置
  - 既存機能の動作を維持
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 2.1 MobileFirstNavigationの順序変更


  - navigationItemsの配列順序を変更
  - タグ登録を最上位（priority: 1）に設定
  - タグ一覧を2番目（priority: 2）に設定
  - 楽曲編集を3番目（priority: 3）に設定
  - 楽曲登録を4番目（priority: 4）に設定
  - _要件: 2.1, 2.2, 2.3, 2.4_

- [x] 2.2 メニュー順序変更の動作確認


  - 各メニュー項目の機能が正常に動作することを確認
  - デスクトップとモバイル両方での表示確認
  - アクセシビリティ対応の維持確認
  - _要件: 2.5_

- [ ]* 2.3 メニュー順序最適化のテスト
  - 新しい順序でのナビゲーションテスト
  - 既存機能の回帰テスト
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 3. ログ出力抑制実装





  - 不要なコンソールログを削減
  - エラー時以外のログ出力を抑制
  - 開発環境とプロダクション環境でのログレベル制御
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [x] 3.1 ProductionLoggerクラスの実装


  - LogLevelによる出力制御機能を実装
  - 本番環境ではERRORレベルのみ出力
  - 開発環境では設定可能なログレベル
  - _要件: 3.2, 3.3, 3.4_

- [x] 3.2 既存ログ出力の置き換え


  - console.logをProductionLoggerに置き換え
  - 不要な情報ログの削除
  - エラーログの適切な分類
  - _要件: 3.1, 3.2, 3.5_

- [x] 3.3 ログレベル設定機能の実装


  - 環境変数によるログレベル制御
  - デバッグモード時の詳細ログ出力
  - 本番環境での完全ログ抑制
  - _要件: 3.3, 3.4, 3.5_

- [ ]* 3.4 ログ抑制機能のテスト
  - 各ログレベルでの出力確認
  - 本番環境でのログ抑制確認
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 4. ジャンル別フィルタリング機能実装
  - シャボン玉のジャンル別フィルタリング機能を追加
  - 凡例アイコンをクリック可能にしてフィルター選択ダイアログを表示
  - 複数ジャンル選択対応
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 4.1 GenreFilterDialogコンポーネントの実装
  - ジャンル選択ダイアログの作成
  - 複数ジャンル選択機能の実装
  - フィルター適用・クリア機能の実装
  - _要件: 4.2, 4.3_

- [ ] 4.2 ColorLegendコンポーネントの拡張
  - 凡例アイコンをクリック可能に変更
  - タップ操作の最適化
  - フィルター状態の視覚的表示を追加
  - _要件: 4.1, 5.1, 5.2_

- [ ] 4.3 BubbleCanvasフィルタリング統合
  - ジャンルベースのシャボン玉表示制御を実装
  - フィルタリング状態の管理
  - アニメーション付きフィルタリング効果
  - _要件: 4.2, 4.4_

- [ ] 4.4 フィルター状態管理の実装
  - 選択されたジャンルの状態管理
  - フィルター適用時の視覚的フィードバック
  - フィルタークリア機能
  - _要件: 4.4, 4.5_

- [ ]* 4.5 ジャンルフィルタリングのテスト
  - 複数ジャンル選択のテスト
  - フィルタリング結果の確認
  - パフォーマンステスト
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5. フィルタリングUI統合
  - 既存UI要素を活用したフィルタリング機能の統合
  - 凡例アイコンとフィルター機能の連携
  - 直感的な操作性の実現
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 5.1 凡例アイコンのインタラクティブ化
  - ColorLegendにクリックイベントハンドラーを追加
  - タップ可能であることの視覚的表示
  - ホバー効果とタップフィードバックの実装
  - _要件: 5.1, 5.2_

- [ ] 5.2 フィルター選択ダイアログの統合
  - GenreFilterDialogとColorLegendの連携
  - 利用可能なジャンル情報の取得と表示
  - 選択状態の視覚的表示
  - _要件: 5.2, 5.3, 5.4_

- [ ] 5.3 既存シャボン玉機能との統合
  - フィルタリング機能と既存のシャボン玉表示機能の統合
  - シャボン玉クリック機能の維持
  - パフォーマンスの最適化
  - _要件: 5.5_

- [ ]* 5.4 UI統合のテスト
  - 凡例アイコンクリックからフィルタリングまでの統合テスト
  - 既存機能との互換性テスト
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 6. 既存機能保持確認
  - 新機能追加後の既存機能動作確認
  - 回帰テストの実行
  - パフォーマンス影響の確認
  - _要件: 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 6.1 既存シャボン玉機能の動作確認
  - シャボン玉表示機能の正常動作確認
  - シャボン玉クリック機能の動作確認
  - アニメーション機能の動作確認
  - _要件: 6.1, 6.5_

- [ ] 6.2 既存タグ管理機能の動作確認
  - タグ登録機能の動作確認
  - タグ一覧表示機能の動作確認
  - タグ編集機能の動作確認
  - _要件: 6.2_

- [ ] 6.3 既存メニュー機能の動作確認
  - 各メニュー項目の機能確認
  - ナビゲーション機能の動作確認
  - ダイアログ表示機能の確認
  - _要件: 6.3_

- [ ] 6.4 エラーハンドリング機能の確認
  - 既存のエラーハンドリング機能の動作確認
  - 新機能でのエラー処理の実装
  - エラー表示機能の確認
  - _要件: 6.4_

- [ ]* 6.5 統合回帰テスト
  - 全機能の統合テスト実行
  - パフォーマンス影響の測定
  - メモリ使用量の確認
  - _要件: 6.1, 6.2, 6.3, 6.4, 6.5_

- [ ] 7. 最終調整とポリッシュ
  - ユーザビリティの最終調整
  - パフォーマンス最適化
  - エラーハンドリングの強化
  - _要件: 全要件の最終確認_

- [ ] 7.1 ユーザビリティ最適化
  - タグ制限拡張後の操作性改善
  - フィルタリング機能の使いやすさ向上
  - メニュー順序変更後の操作性確認
  - _要件: 1.2, 2.5, 4.5, 5.4_

- [ ] 7.2 パフォーマンス最適化
  - 100個タグ処理の最適化
  - フィルタリング処理の高速化
  - ログ抑制によるパフォーマンス改善確認
  - _要件: 1.5, 3.5, 4.4_

- [ ]* 7.3 最終品質確認テスト
  - 全機能の最終動作確認
  - 各デバイスでの表示・動作確認
  - エラーケースの動作確認
  - _要件: 6.1, 6.2, 6.3, 6.4, 6.5_